.Dd January 31, 2025
.Dt SYSINFO 1
.Os
.Sh NAME
.Nm sysinfo
.Nd display system information
.Sh SYNOPSIS
.Nm
.Op Fl Chnv
.Sh DESCRIPTION
The
.Nm
utility displays system information in a formatted output.
Information is collected using standard system commands.
When running in a compatible terminal, the output is color-coded.
The utility ensures proper terminal state restoration on exit.
.Sh OPTIONS
.Bl -tag -width Ds
.It Fl C
Disable color output
.It Fl h
Display help message and exit
.It Fl n
Disable ASCII art
.It Fl v
Display version information in the format "sysinfo-VERSION" and exit
.El
.Sh OUTPUT
.Bl -tag -width Ds
.It Sy User@Hostname
Current user and system hostname from
.Ev USER
environment variable or
.Xr id 1 ,
and
.Xr hostname 1
.It Sy OS
Operating system version from
.Xr uname 1
.It Sy Kernel
Kernel version from
.Xr uname 1
.It Sy Machine
Architecture from
.Xr sysctl 8
hw.machine and virtualization type (if detected)
.It Sy CPU
Processor model from
.Xr sysctl 8
hw.model and number of online CPU cores from hw.ncpuonline
.It Sy GPU
Graphics processor information from
.Xr dmesg 8
output when available, shows "-" when not detected
.It Sy Memory
Memory usage showing used/total with percentage. Uses
.Xr sysctl 8
hw.physmem and
.Xr vmstat 1
page statistics for calculations
.It Sy Disk
Root partition usage from
.Xr df 1
.It Sy Shell
Current user's shell from
.Ev SHELL
environment variable, shows "-" when not available
.It Sy Uptime
System uptime from
.Xr uptime 1 ,
formatted as days (d), hours (h), minutes (m), or seconds (s). Shows "-" when
not available
.It Sy Packages
Number of installed packages from
.Xr pkg_info 1 ,
shows "-" when not available
.El
.Sh ENVIRONMENT
.Bl -tag -width Ds
.It Ev NO_COLOR
Disable color output if set (any value)
.It Ev SHELL
User's shell path, defaults to "-" if not set
.It Ev USER
Username for display, falls back to
.Xr id 1
output if not set
.It Ev TERM
Used by
.Xr tput 1
for terminal capabilities
.El
.Sh EXIT STATUS
.Bl -tag -width Ds
.It 0
Successful completion or help/version display
.It 1
An error occurred
.El
.Sh EXAMPLES
Display system information:
.Pp
.Dl $ sysinfo
.Pp
Disable colors:
.Pp
.Dl $ sysinfo -C
.Pp
Show information without ASCII art:
.Pp
.Dl $ sysinfo -n
.Sh IMPLEMENTATION NOTES
.Ss Memory Display
Memory values are scaled (B, K, M, G, T) with one decimal place precision.
Physical memory comes from
.Xr sysctl 8
hw.physmem, while used memory is calculated using
.Xr vmstat 1
page statistics (active, wired, and free pages) multiplied by the system page
size.
.Ss Virtualization Detection
Detects virtualization platforms including VMM, bhyve, Hyper-V, Xen,
QEMU/KVM, VMware, VirtualBox, and Parallels through
.Xr dmesg 8
output and
.Xr sysctl 8
hw.model information.
.Ss Terminal Handling
The utility saves and restores terminal state using
.Xr stty 1 ,
ensuring proper cleanup on normal exit or interruption.
Color output requires an ANSI-capable terminal and
.Xr tput 1 .
.Sh SEE ALSO
.Xr df 1 ,
.Xr dmesg 8 ,
.Xr hostname 1 ,
.Xr id 1 ,
.Xr pkg_info 1 ,
.Xr stty 1 ,
.Xr sysctl 8 ,
.Xr tput 1 ,
.Xr uname 1 ,
.Xr uptime 1 ,
.Xr vmstat 1
.Sh AUTHORS
.An Szenesis Aq Mt https://github.com/Szenesis/sysinfo
.Pp
Modified by
.An Dair Aidarkhanov Aq Mt https://github.com/telesvar/sysinfo
.Sh LICENSE
MIT License
.br
Copyright (c) 2023 Szenesis
.br
Copyright (c) 2024 Dair Aidarkhanov
.Sh NOTES
.Bl -dash -compact
.It
Terminal state is properly restored on exit
.It
All unavailable information is displayed as "-"
.It
Colors require ANSI-capable terminal and
.Xr tput 1
.It
Color output is disabled when
.Ev NO_COLOR
is set
.El
